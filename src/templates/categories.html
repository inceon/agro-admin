<div class="row categories">
    <div class="col-lg-12">
        <div class="list-group list-group-root well">
            <div ng-repeat="category in vm.categories">
                    <span class="list-group-item" ng-click="category.open = !category.open">
                        <i class="glyphicon"
                           ng-class="{
                                'glyphicon-chevron-right': !category.open,
                                'glyphicon-chevron-down': category.open
                            }"
                        ></i>
                        <span ng-hide="category.edit">{{category.name}}</span>
                        <span ng-show="category.edit" ng-click="$event.stopPropagation();">
                            <input type="text" ng-model="category.name">
                            <button class="btn bth-default"
                                    ng-click="vm.saveInfo('category', category)">Сохранить</button>
                        </span>
                        <span class="pull-right">
                            <i class="glyphicon glyphicon-edit"
                               ng-click="category.edit = !category.edit; $event.stopPropagation();"></i>
                            <i class="glyphicon glyphicon-remove"
                               ng-click="vm.deleteCategory(category); $event.stopPropagation();"></i>
                        </span>
                    </span>
                <div class="list-group" ng-class="{'collapse': !category.open}">

                    <span class="list-group-item" ng-repeat="subcategory in category.subcategories">
                        <span ng-hide="subcategory.edit">{{subcategory.name}}</span>
                        <span ng-show="subcategory.edit" ng-click="$event.stopPropagation();">
                            <input type="text" ng-model="subcategory.name">
                            <button class="btn bth-default"
                                    ng-click="vm.saveInfo('subcategory', subcategory)">Сохранить</button>
                        </span>
                        <span class="pull-right">
                            <i class="glyphicon glyphicon-edit"
                               ng-click="subcategory.edit = !subcategory.edit; $event.stopPropagation();"></i>
                            <i class="glyphicon glyphicon-remove"
                               ng-click="vm.deleteSubCategory(subcategory); $event.stopPropagation();"></i>
                        </span>
                    </span>

                    <span class="list-group-item" ng-click="vm.addSubCategory(category)">
                        <i class="glyphicon glyphicon-plus"></i>
                        <span>Добавить</span>
                    </span>

                </div>
            </div>
            <span class="list-group-item" ng-click="vm.addCategory()">
                    <i class="glyphicon glyphicon-plus"></i>
                    <span>Добавить</span>
                </span>
        </div>
    </div>
</div>